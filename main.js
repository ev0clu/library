(()=>{let e=[];const t=document.getElementById("btn-add"),n=document.getElementById("btn-close"),a=document.getElementById("form-content"),r=document.getElementById("modal"),c=document.getElementById("content"),d=document.getElementById("warning"),o=document.querySelector(".header"),i=document.querySelector(".main"),s=document.querySelector(".footer");class l{constructor(e,t,n,a){this.title=e,this.author=t,this.pages=n,this.isRead=a}}function u(){localStorage.setItem("Library",JSON.stringify(e))}function m(e,t){const n=document.createElement("div");n.setAttribute("data-index",`${t}`);const a=document.createElement("h1"),r=document.createElement("p"),d=document.createElement("p"),o=document.createElement("button"),i=document.createElement("button");a.textContent=`${e.title}`,r.textContent=`${e.author}`,d.textContent=`${e.pages} pages read`,o.setAttribute("class","btn-read"),e.isRead?(n.setAttribute("class","card card-read"),o.textContent="Mark as unread"):(n.setAttribute("class","card card-unread"),o.textContent="Mark as read"),i.setAttribute("class","btn-remove"),i.textContent="Remove",c.appendChild(n),n.appendChild(a),n.appendChild(r),n.appendChild(d),n.appendChild(o),n.appendChild(i)}function p(e){c.textContent="";for(let t=0;t<e.length;t++)m(e[t],t)}function y(e){document.querySelectorAll(".btn-read").forEach((t=>{t.addEventListener("click",(n=>{const a=n.target.parentNode,r=a.dataset.index,c=e;a.classList.contains("card-read")?(a.removeAttribute("class","card-read"),a.setAttribute("class","card card-unread"),t.textContent="Mark as read",c[r].isRead=!1):(a.removeAttribute("class","card-unread"),a.setAttribute("class","card card-read"),t.textContent="Mark as unread",c[r].isRead=!0),u()}))}))}function v(){document.querySelectorAll(".btn-remove").forEach((t=>{t.addEventListener("click",(t=>{const n=t.target.parentNode.firstChild.textContent;e=e.filter((e=>e.title!==n)),u(),p(e),v(),y(e)}))}))}function h(t){e.push(t),u()}function E(){r.style.display="none",a.reset(),d.textContent="",o.classList.remove("inactive"),i.classList.remove("inactive"),s.classList.remove("inactive")}t.addEventListener("click",(()=>{r.style.display="block",o.classList.add("inactive"),i.classList.add("inactive"),s.classList.add("inactive")})),n.addEventListener("click",(()=>{E()})),a.addEventListener("submit",(t=>{t.preventDefault();const n=function(){const e=document.getElementById("title").value,t=document.getElementById("author").value,n=document.getElementById("pages").value,a=document.getElementById("read").checked;return new l(e,t,n,a)}();!function(t){return e.map((e=>e.title)).some((e=>e===t.title))}(n)?(h(n),E(),p(e),v(),y(e)):d.textContent="Already exist in the library"})),e=JSON.parse(localStorage.getItem("Library")),null==e?(e=[],function(){const e=new l("Way of the Peaceful Warrior","Dan Millman","216",!0),t=new l("Peaceful Heart, Warrior Spirit","Dan Millman","143",!1);h(e),h(t)}(),p(e),v(),y(e)):(p(e),v(),y(e))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssOEJBQStCLGNBQWUsT0FBTyxHQUN0RW1FLEVBQVEsSUFBSW5FLEVBQUssaUNBQWtDLGNBQWUsT0FBTyxHQUMvRWdELEVBQWlCa0IsR0FDakJsQixFQUFpQm1CLEVBQ3JCLENBU1FDLEdBQ0EzQyxFQUFnQnRDLEdBQ2hCeUQsSUFDQWYsRUFBYTFDLEtBRWJzQyxFQUFnQnRDLEdBQ2hCeUQsSUFDQWYsRUFBYTFDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saWJyYXJ5Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLSBWYXJpYWJsZSBkZWNsYXJhdGlvbnMgIC0tLS0tLS0tLSAvL1xuXG5sZXQgbXlMaWJyYXJ5ID0gW107XG5cbi8vIC0tLS0tLS0tLSBEb2N1bWVudCBtZXRob2RzIC0tLS0tLS0tLSAvL1xuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1hZGQnKTtcbmNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1jbG9zZScpO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tY29udGVudCcpO1xuY29uc3QgcG9wVXBNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsJyk7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuY29uc3Qgd2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nJyk7XG5cbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuY29uc3QgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpO1xuXG4vLyAtLS0tLS0tLS0gQ2xhc3MgZGVjbGFyYXRpb24gLS0tLS0tLS0tIC8vXG5jbGFzcyBCb29rIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgYXV0aG9yLCBwYWdlcywgaXNSZWFkKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5hdXRob3IgPSBhdXRob3I7XG4gICAgICAgIHRoaXMucGFnZXMgPSBwYWdlcztcbiAgICAgICAgdGhpcy5pc1JlYWQgPSBpc1JlYWQ7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0gRnVuY3Rpb25zIGRlY2xhcmF0aW9uICAtLS0tLS0tLS0gLy9cbi8vIFNhdmUgdG8gTG9jYWwgU3RvcmFnZVxuZnVuY3Rpb24gc2F2ZUxvY2FsKCkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdMaWJyYXJ5JywgSlNPTi5zdHJpbmdpZnkobXlMaWJyYXJ5KSk7XG59XG5cbmZ1bmN0aW9uIGdldEJvb2tJbnB1dHMoKSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKS52YWx1ZTtcbiAgICBjb25zdCBhdXRob3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0aG9yJykudmFsdWU7XG4gICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZXMnKS52YWx1ZTtcbiAgICBjb25zdCBpc1JlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVhZCcpLmNoZWNrZWQ7XG4gICAgY29uc3QgbmV3Qm9vayA9IG5ldyBCb29rKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCBpc1JlYWQpO1xuICAgIHJldHVybiBuZXdCb29rO1xufVxuXG5mdW5jdGlvbiByZXNldENvbnRlbnRGaWVsZCgpIHtcbiAgICBjb250ZW50LnRleHRDb250ZW50ID0gJyc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvb2tDYXJkKGJvb2ssIGluZGV4KSB7XG4gICAgY29uc3QgYWRkQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFkZENhcmQuc2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JywgYCR7aW5kZXh9YCk7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgICBjb25zdCBjYXJkQXV0aG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGNhcmRQYWdlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBpc1JlYWRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjb25zdCByZW1vdmVDYXJkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSBgJHtib29rLnRpdGxlfWA7XG4gICAgY2FyZEF1dGhvci50ZXh0Q29udGVudCA9IGAke2Jvb2suYXV0aG9yfWA7XG4gICAgY2FyZFBhZ2VzLnRleHRDb250ZW50ID0gYCR7Ym9vay5wYWdlc30gcGFnZXMgcmVhZGA7XG5cbiAgICBpc1JlYWRCdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidG4tcmVhZCcpO1xuXG4gICAgaWYgKGJvb2suaXNSZWFkKSB7XG4gICAgICAgIGFkZENhcmQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGBjYXJkIGNhcmQtcmVhZGApO1xuICAgICAgICBpc1JlYWRCdXR0b24udGV4dENvbnRlbnQgPSAnTWFyayBhcyB1bnJlYWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZENhcmQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGBjYXJkIGNhcmQtdW5yZWFkYCk7XG4gICAgICAgIGlzUmVhZEJ1dHRvbi50ZXh0Q29udGVudCA9ICdNYXJrIGFzIHJlYWQnO1xuICAgIH1cblxuICAgIHJlbW92ZUNhcmRCdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidG4tcmVtb3ZlJyk7XG4gICAgcmVtb3ZlQ2FyZEJ1dHRvbi50ZXh0Q29udGVudCA9ICdSZW1vdmUnO1xuXG4gICAgY29udGVudC5hcHBlbmRDaGlsZChhZGRDYXJkKTtcbiAgICBhZGRDYXJkLmFwcGVuZENoaWxkKGNhcmRUaXRsZSk7XG4gICAgYWRkQ2FyZC5hcHBlbmRDaGlsZChjYXJkQXV0aG9yKTtcbiAgICBhZGRDYXJkLmFwcGVuZENoaWxkKGNhcmRQYWdlcyk7XG4gICAgYWRkQ2FyZC5hcHBlbmRDaGlsZChpc1JlYWRCdXR0b24pO1xuICAgIGFkZENhcmQuYXBwZW5kQ2hpbGQocmVtb3ZlQ2FyZEJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJvb2tDYXJkcyhsaWJyYXJ5KSB7XG4gICAgcmVzZXRDb250ZW50RmllbGQoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlicmFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjcmVhdGVCb29rQ2FyZChsaWJyYXJ5W2ldLCBpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVN0YXR1cyhsaWJyYXJ5KSB7XG4gICAgY29uc3QgcmVhZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4tcmVhZCcpO1xuICAgIHJlYWRCdXR0b24uZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgY29uc3QgYm9va0luZGV4ID0gY2FyZC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgY29uc3QgbXlMaWIgPSBsaWJyYXJ5O1xuICAgICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkLXJlYWQnKSkge1xuICAgICAgICAgICAgICAgIGNhcmQucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycsICdjYXJkLXJlYWQnKTtcbiAgICAgICAgICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2FyZCBjYXJkLXVucmVhZCcpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdNYXJrIGFzIHJlYWQnO1xuICAgICAgICAgICAgICAgIG15TGliW2Jvb2tJbmRleF0uaXNSZWFkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcmQucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycsICdjYXJkLXVucmVhZCcpO1xuICAgICAgICAgICAgICAgIGNhcmQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYXJkIGNhcmQtcmVhZCcpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdNYXJrIGFzIHVucmVhZCc7XG4gICAgICAgICAgICAgICAgbXlMaWJbYm9va0luZGV4XS5pc1JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2F2ZUxvY2FsKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDYXJkKCkge1xuICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4tcmVtb3ZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2tUaXRsZSA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNlbGVjdGVkIGJvb2sgZnJvbSB0aGUgbXlMaWJyYXJyeVxuICAgICAgICAgICAgbXlMaWJyYXJ5ID0gbXlMaWJyYXJ5LmZpbHRlcigoYm9vaykgPT4gYm9vay50aXRsZSAhPT0gYm9va1RpdGxlKTtcbiAgICAgICAgICAgIHNhdmVMb2NhbCgpO1xuICAgICAgICAgICAgdXBkYXRlQm9va0NhcmRzKG15TGlicmFyeSk7XG4gICAgICAgICAgICByZW1vdmVDYXJkKCk7XG4gICAgICAgICAgICB0b2dnbGVTdGF0dXMobXlMaWJyYXJ5KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEJvb2tUb0xpYnJhcnkoYm9vaykge1xuICAgIG15TGlicmFyeS5wdXNoKGJvb2spO1xuICAgIHNhdmVMb2NhbCgpO1xufVxuXG5mdW5jdGlvbiBpbml0RGVmYXVsdEJvb2tzKCkge1xuICAgIGNvbnN0IGJvb2sxID0gbmV3IEJvb2soJ1dheSBvZiB0aGUgUGVhY2VmdWwgV2FycmlvcicsICdEYW4gTWlsbG1hbicsICcyMTYnLCB0cnVlKTtcbiAgICBjb25zdCBib29rMiA9IG5ldyBCb29rKCdQZWFjZWZ1bCBIZWFydCwgV2FycmlvciBTcGlyaXQnLCAnRGFuIE1pbGxtYW4nLCAnMTQzJywgZmFsc2UpO1xuICAgIGFkZEJvb2tUb0xpYnJhcnkoYm9vazEpO1xuICAgIGFkZEJvb2tUb0xpYnJhcnkoYm9vazIpO1xufVxuXG4vLyBSZXN0b3JlIGZyb20gTG9jYWwgU3RvcmFnZVxuZnVuY3Rpb24gcmVzdG9yZUxvY2FsKCkge1xuICAgIG15TGlicmFyeSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0xpYnJhcnknKSk7XG5cbiAgICBpZiAobXlMaWJyYXJ5ID09IG51bGwpIHtcbiAgICAgICAgLy8gSWYgbG9jYWxzdG9yYWdlIGlzIGVtcHR5LCBhZGQgZGVmYXVsdCBib29rcyBpbnRvIHRoZSBsaWJyYXJ5XG4gICAgICAgIG15TGlicmFyeSA9IFtdO1xuICAgICAgICBpbml0RGVmYXVsdEJvb2tzKCk7XG4gICAgICAgIHVwZGF0ZUJvb2tDYXJkcyhteUxpYnJhcnkpO1xuICAgICAgICByZW1vdmVDYXJkKCk7XG4gICAgICAgIHRvZ2dsZVN0YXR1cyhteUxpYnJhcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUJvb2tDYXJkcyhteUxpYnJhcnkpO1xuICAgICAgICByZW1vdmVDYXJkKCk7XG4gICAgICAgIHRvZ2dsZVN0YXR1cyhteUxpYnJhcnkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb3BlblBvcFVwKCkge1xuICAgIHBvcFVwTWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaW5hY3RpdmUnKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ2luYWN0aXZlJyk7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2luYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlUG9wVXAoKSB7XG4gICAgcG9wVXBNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZm9ybS5yZXNldCgpO1xuICAgIHdhcm5pbmcudGV4dENvbnRlbnQgPSAnJztcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnaW5hY3RpdmUnKTtcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJyk7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRoZVRpdGxlcyhsaWJyYXJ5KSB7XG4gICAgcmV0dXJuIGxpYnJhcnkubWFwKChib29rKSA9PiBib29rLnRpdGxlKTtcbn1cblxuZnVuY3Rpb24gaXNFeGlzdEJvb2sobmV3Qm9vaykge1xuICAgIGNvbnN0IGJvb2tzVGl0bGUgPSBnZXRUaGVUaXRsZXMobXlMaWJyYXJ5KTtcbiAgICByZXR1cm4gYm9va3NUaXRsZS5zb21lKCh0aXRsZSkgPT4gdGl0bGUgPT09IG5ld0Jvb2sudGl0bGUpO1xufVxuXG4vLyAtLS0tLS0tLS0gRXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLSAvL1xuXG4vLyBQcmVzc2VkICdBZGQgYnV0dG9uJyBvcGVuIHRoZSBQb3AgdXAgbWVudVxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG9wZW5Qb3BVcCgpO1xufSk7XG5cbi8vIFByZXNzZWQgJ0Nsb3NlIGJ1dHRvbicgY2xvc2UgdGhlIFBvcCB1cCBtZW51XG5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjbG9zZVBvcFVwKCk7XG59KTtcblxuLy8gUHJlc3NlZCAnU3VibWl0IGJ1dHRvbicgZ2V0IGJvb2sgaW5wdXRzIGFuZCBhZGQgdGhlbSB0byB0aGUgbGlicmFyeVxuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAvLyBkZWZhdWx0IGJ1dHRvbiBhY3Rpb24gc2hvdWxkIG5vdCBiZSB0YWtlblxuICAgIC8vIGJ1dHRvbiBkb2VzIG5vdCBsZXQgdG8gJ3N1Ym1pdCcgdGhlIHBhZ2VcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5ld0Jvb2sgPSBnZXRCb29rSW5wdXRzKCk7XG5cbiAgICBpZiAoaXNFeGlzdEJvb2sobmV3Qm9vaykpIHtcbiAgICAgICAgd2FybmluZy50ZXh0Q29udGVudCA9ICdBbHJlYWR5IGV4aXN0IGluIHRoZSBsaWJyYXJ5JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhZGRCb29rVG9MaWJyYXJ5KG5ld0Jvb2spO1xuICAgICAgICBjbG9zZVBvcFVwKCk7XG5cbiAgICAgICAgdXBkYXRlQm9va0NhcmRzKG15TGlicmFyeSk7XG4gICAgICAgIHJlbW92ZUNhcmQoKTtcbiAgICAgICAgdG9nZ2xlU3RhdHVzKG15TGlicmFyeSk7XG4gICAgfVxufSk7XG5cbi8vIFJlc3RvcmUgbXlMaWJyYXJ5IGZyb20gTG9jYWwgU3RvcmFnZVxucmVzdG9yZUxvY2FsKCk7XG4iXSwibmFtZXMiOlsibXlMaWJyYXJ5IiwiYWRkQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNsb3NlQnV0dG9uIiwiZm9ybSIsInBvcFVwTWVudSIsImNvbnRlbnQiLCJ3YXJuaW5nIiwiaGVhZGVyIiwicXVlcnlTZWxlY3RvciIsIm1haW4iLCJmb290ZXIiLCJCb29rIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImF1dGhvciIsInBhZ2VzIiwiaXNSZWFkIiwidGhpcyIsInNhdmVMb2NhbCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlQm9va0NhcmQiLCJib29rIiwiaW5kZXgiLCJhZGRDYXJkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNhcmRUaXRsZSIsImNhcmRBdXRob3IiLCJjYXJkUGFnZXMiLCJpc1JlYWRCdXR0b24iLCJyZW1vdmVDYXJkQnV0dG9uIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZUJvb2tDYXJkcyIsImxpYnJhcnkiLCJpIiwibGVuZ3RoIiwidG9nZ2xlU3RhdHVzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjYXJkIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImJvb2tJbmRleCIsImRhdGFzZXQiLCJteUxpYiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQ2FyZCIsImJvb2tUaXRsZSIsImZpcnN0Q2hpbGQiLCJmaWx0ZXIiLCJhZGRCb29rVG9MaWJyYXJ5IiwicHVzaCIsImNsb3NlUG9wVXAiLCJzdHlsZSIsImRpc3BsYXkiLCJyZXNldCIsInJlbW92ZSIsImFkZCIsInByZXZlbnREZWZhdWx0IiwibmV3Qm9vayIsInZhbHVlIiwiY2hlY2tlZCIsImdldEJvb2tJbnB1dHMiLCJtYXAiLCJzb21lIiwiaXNFeGlzdEJvb2siLCJwYXJzZSIsImdldEl0ZW0iLCJib29rMSIsImJvb2syIiwiaW5pdERlZmF1bHRCb29rcyJdLCJzb3VyY2VSb290IjoiIn0=